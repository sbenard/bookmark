(this.webpackJsonpbookmark=this.webpackJsonpbookmark||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(13),l=a.n(i),r=(a(92),a(23)),o=a(30),d=a(31),u=a(149),s=a(156),j=a(151),b=a(72),O=a.n(b),x=a(165),h=a(42),m=a(169),f=a(167),p=a(150),g=a(145),y=a(170),v=a(152),k=a(153),C=a(155),S=a(154),W=a(5),V=function(e){var t=e.onClose,a=e.setMedias,n=e.open,i=e.medias,l=e.index,j=c.a.useState(),b=Object(d.a)(j,2),O=b[0],x=b[1],V=c.a.useState(""),w=Object(d.a)(V,2),F=w[0],M=w[1];if(c.a.useEffect((function(){x(l>=0?i[l]:void 0)}),[l,i]),!O)return Object(W.jsx)(W.Fragment,{});var A=function(e){return function(t){x(Object(r.a)(Object(r.a)({},O),{},Object(h.a)({},e,t.target.value)))}},D=O.keyWords,I=O.title,_=O.type,B=O.author_name,E=O.url,J=O.created_at,L=O.height,H=O.width,P=O.duration,T=function(){t()};return Object(W.jsxs)(m.a,{onClose:T,"aria-labelledby":"edit-dialog-title",open:n,children:[Object(W.jsxs)("form",{style:{margin:"10px"},children:[Object(W.jsx)(f.a,{fullWidth:!0,onChange:A("title"),margin:"normal",id:"title-text",defaultValue:I,label:"Titre"}),Object(W.jsx)(f.a,{fullWidth:!0,onChange:A("created_at"),type:"datetime-local",margin:"normal",id:"createdAd-text",defaultValue:J,label:"Date d'ajout"}),Object(W.jsx)(f.a,{fullWidth:!0,onChange:A("author_name"),margin:"normal",id:"author-name-text",defaultValue:B,label:"Auteur"}),Object(W.jsx)(f.a,{fullWidth:!0,onChange:A("url"),margin:"normal",id:"author-url-text",defaultValue:E,label:"URL"}),Object(W.jsx)(f.a,{fullWidth:!0,disabled:!0,type:"number",id:"width-text",defaultValue:H,label:"Hauteur"}),Object(W.jsx)(f.a,{fullWidth:!0,disabled:!0,type:"number",id:"height-text",defaultValue:L,label:"Largeur"}),"video"===_&&Object(W.jsx)(f.a,{fullWidth:!0,disabled:!0,type:"number",id:"duration-text",defaultValue:P,label:"Dur\xe9e"})]}),Object(W.jsxs)(p.a,{style:{margin:10},children:[D.length>0&&Object(W.jsx)(g.a,{style:{display:"flex",justifyContent:"center",padding:10},children:D.map((function(e,t){return Object(W.jsx)(y.a,{onDelete:function(){var e=Object(o.a)(O.keyWords);e.splice(t,1),x(Object(r.a)(Object(r.a)({},O),{},{keyWords:e}))},label:e},"chip-".concat(t))}))}),Object(W.jsx)(u.a,{id:"keyWords-text",onChange:function(e){M(e.target.value)},value:F,placeholder:"Mots cl\xe9",startAdornment:Object(W.jsx)(v.a,{position:"start",children:Object(W.jsx)(k.a,{disabled:""===F,"aria-label":"Ajouter un mot cle",onClick:function(){x(Object(r.a)(Object(r.a)({},O),{},{keyWords:[F].concat(Object(o.a)(O.keyWords))})),M("")},children:Object(W.jsx)(S.a,{})})})})]}),Object(W.jsxs)(C.a,{children:[Object(W.jsx)(s.a,{autoFocus:!0,onClick:T,color:"primary",children:"Annuler"}),Object(W.jsx)(s.a,{autoFocus:!0,onClick:function(){var e=Object(o.a)(i);e.splice(l,1),a(e),t()},color:"primary",children:"Supprimer"}),Object(W.jsx)(s.a,{onClick:function(){var e=Object(o.a)(i);e[l]=O,a(e),t()},color:"primary",autoFocus:!0,children:"Sauvegarder"})]})]})},w=a(157),F=a(158),M=a(171),A=a(161),D=a(162),I=a(159),_=a(160),B=a(163),E=a(164),J=a(166),L=function(e){var t=e.media,a=e.index,n=e.setCurrentIndex,c=e.deleteMediaByIndex,i=e.setOpen;return Object(W.jsxs)(w.a,{button:!0,onClick:function(){n(a),i(!0)},children:[Object(W.jsx)(F.a,{children:Object(W.jsx)(M.a,{children:"video"===t.type?Object(W.jsx)(I.a,{}):Object(W.jsx)(_.a,{})})}),Object(W.jsx)(A.a,{primary:"".concat(t.title," - ").concat(t.author_name),secondary:"Ajout\xe9 le ".concat(Object(J.a)(new Date(t.created_at),"dd/MM/yyyy - HH'h':mm"))}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(k.a,{onClick:function(){window.open(t.url)},edge:"end","aria-label":"redirection vers l'url",children:Object(W.jsx)(B.a,{})}),Object(W.jsx)(k.a,{onClick:function(){c(a)},edge:"end","aria-label":"delete",children:Object(W.jsx)(E.a,{})})]})]})};var H=function(){var e=localStorage.medias?JSON.parse(localStorage.medias):[],t=c.a.useState("https://vimeo.com/254947206"),a=Object(d.a)(t,2),n=a[0],i=a[1],l=c.a.useState(e),b=Object(d.a)(l,2),h=b[0],m=b[1],f=c.a.useState(-1),p=Object(d.a)(f,2),g=p[0],y=p[1],v=c.a.useState(!1),k=Object(d.a)(v,2),C=k[0],S=k[1];c.a.useEffect((function(){localStorage.setItem("medias",JSON.stringify(h))}),[h]);var w=function(e){var t=Object(o.a)(h);t.splice(e,1),m(t)},F=!h.length;return Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(W.jsx)(u.a,{placeholder:"Veuillez saisir une url",inputProps:{"data-testid":"url-input"},value:n,onChange:function(e){i(e.target.value)}}),Object(W.jsx)(s.a,{"data-testid":"submit-button",disabled:!n,onClick:function(){O.a.get("https://noembed.com/embed?url=".concat(n)).then((function(e){var t=e.data,a=Object(r.a)(Object(r.a)({},t),{},{created_at:Object(x.a)(new Date).slice(0,16),keyWords:[]});m([a].concat(Object(o.a)(h)))})).catch((function(e){console.error("Erreur lors de la r\xe9cup\xe9ration du media",e)}))},children:"Valider"}),Object(W.jsxs)("div",{children:[F&&Object(W.jsx)("div",{children:" Actuellement aucun bookmark n'a \xe9t\xe9 sauvegard\xe9"}),!F&&Object(W.jsx)(j.a,{children:h.map((function(e,t){return Object(W.jsx)(L,{deleteMediaByIndex:w,setCurrentIndex:y,media:e,index:t,setOpen:S},"media-item-".concat(t))}))})]}),Object(W.jsx)(V,{open:C,index:g,medias:h,setMedias:m,onClose:function(){S(!1)}})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),i(e),l(e)}))};l.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(H,{})}),document.getElementById("root")),P()},92:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.2d33f5b0.chunk.js.map